Swaggy B's Hearty French Onion Soup
cooking spray 2 pounds beef shanks ½ cup butter 4 large yellow onions, halved and sliced 2 large white onions, halved and sliced 1 pinch kosher salt 1 tablespoon chopped garlic ½ cup all-purpose flour 3 quarts vegetable broth 2 tablespoons Worcestershire sauce 2 teaspoons liquid smoke flavoring salt and ground black pepper to taste 