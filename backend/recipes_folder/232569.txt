Apple Cheesecake Pie
½ cup softened butter ⅓ cup white sugar 1 teaspoon vanilla extract 1 cup all-purpose flour, or as needed 1 (8 ounce) package cream cheese, softened 1 egg ¼ cup white sugar 1 tablespoon vanilla extract 4 cups peeled and sliced apples ⅓ cup white sugar 2 tablespoons ground cinnamon ¼ cup sliced almonds (Optional) 