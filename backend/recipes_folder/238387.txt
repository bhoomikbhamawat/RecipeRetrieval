Chef John's Blackberry Buckle
3 cups fresh blackberries 2 tablespoons white sugar 1 teaspoon vanilla extract 1 ¼ cups all-purpose flour ¾ cup white sugar ½ cup almond meal 2 teaspoons baking powder ¼ teaspoon salt 1 pinch ground cinnamon 1 cup milk 7 tablespoons butter, divided 3 tablespoons sliced almonds, or to taste 