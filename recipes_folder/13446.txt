Ukrainian Sweet and Sour Cabbage Soup
2 tablespoons butter1 onion, thinly sliced1 Granny Smith apples - peeled, cored and sliced3 cups shredded red cabbage4 cups beef stock½ cup cider vinegar¼ cup packed brown sugar½ teaspoon salt¼ teaspoon ground black pepper¼ teaspoon celery seed⅓ cup raisins¼ cup apple butter