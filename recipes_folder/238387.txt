Chef John's Blackberry Buckle
3 cups fresh blackberries2 tablespoons white sugar1 teaspoon vanilla extract1 ¼ cups all-purpose flour¾ cup white sugar½ cup almond meal2 teaspoons baking powder¼ teaspoon salt1 pinch ground cinnamon1 cup milk7 tablespoons butter, divided3 tablespoons sliced almonds, or to taste