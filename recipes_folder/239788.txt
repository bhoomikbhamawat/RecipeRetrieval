Chef John's Chicken Lettuce Wraps
1 ½ pounds skinless, boneless chicken thighs, coarsely chopped1 (8 ounce) can water chestnuts, drained and minced1 cup diced shiitake mushroom caps½ cup minced yellow onion⅓ cup chopped green onion1 tablespoon soy sauce1 tablespoon freshly grated ginger2 teaspoons brown sugar¼ cup chicken stock¼ cup rice wine vinegar4 cloves garlic, minced1 tablespoon ketchup1 tablespoon soy sauce2 teaspoons sesame oil2 teaspoons brown sugar½ teaspoon red pepper flakes½ teaspoon dry mustard2 tablespoons vegetable oil1 ½ tablespoons chopped fresh cilantro, or to taste1 ½ tablespoons chopped fresh basil, or to taste1 ½ tablespoons chopped green onion, or to taste16 leaves iceberg lettuce, or as needed