Swaggy B's Hearty French Onion Soup
cooking spray2 pounds beef shanks½ cup butter4 large yellow onions, halved and sliced2 large white onions, halved and sliced1 pinch kosher salt1 tablespoon chopped garlic½ cup all-purpose flour3 quarts vegetable broth2 tablespoons Worcestershire sauce2 teaspoons liquid smoke flavoringsalt and ground black pepper to taste