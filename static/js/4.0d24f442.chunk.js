(this.webpackJsonpirproject=this.webpackJsonpirproject||[]).push([[4],{224:function(e,t,n){"use strict";n.r(t);var a=n(104),r=n(219),c=n(220),i=n(221),u=n(25),s=n(0),o=n(47),l=n(225),j=n(206),p=n(227),d=n(155),f=n(218),h=n(10),b=n(174),x=n.n(b),v=n(176),O=n(17),m=n(177);n(207);n(179),n(181),n(208);var y=m.a.initializeApp({apiKey:"AIzaSyAAYmzTCsgF4r9wXv0Tv0GwT3j0mqsM_eQ",authDomain:"ir-project-d1527.firebaseapp.com",projectId:"ir-project-d1527",storageBucket:"ir-project-d1527.appspot.com",messagingSenderId:"437213427392",appId:"1:437213427392:web:036fad3d28f61d4a481f25"}),g=m.a.storage(),k=y,w=n(183),C=n.n(w),S="http://127.0.0.1:5000/";k.database().ref("url").on("value",(function(e){console.log(e.val()),S=e.val()})),console.log(S);var I=n(4);var R=function(e){var t=e.inputs,n=Object(u.c)(),r=Object(s.useState)(!1),c=Object(a.a)(r,2),i=c[0],b=c[1],m=function(e){var t;n((t={index:e},function(){var e=Object(v.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(Object(h.a)({type:O.e},t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return Object(I.jsxs)(l.a,{children:[Object(I.jsx)(l.a.Header,{children:Object(I.jsxs)(l.a.Row,{children:[Object(I.jsx)(l.a.HeaderCell,{children:"Image"}),Object(I.jsx)(l.a.HeaderCell,{children:"Prediction"})]})}),Object(I.jsx)(l.a.Body,{children:t.map((function(e,t){return Object(I.jsxs)(l.a.Row,{children:[Object(I.jsxs)(l.a.Cell,{children:[Object(I.jsx)(j.a,{src:e.img,size:"small"}),Object(I.jsx)(p.a,{icon:"trash",onClick:function(){return m(t)}})]}),Object(I.jsx)(l.a.Cell,{children:Object(I.jsxs)(d.a,{children:[" ",e.data]})})]},t)}))}),Object(I.jsx)(l.a.Footer,{children:Object(I.jsxs)(l.a.Row,{children:[Object(I.jsx)(l.a.HeaderCell,{}),Object(I.jsx)(l.a.HeaderCell,{colSpan:"3",children:i?Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("p",{className:"text-muted",children:[Object(I.jsx)(o.a,{}),"Uploading and analyzing the image"]})}):Object(I.jsx)(f.a,{type:"file",accept:"Image/*",onChange:function(e){var t;b(!0);var a=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.files[0];a&&n(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:O.k}),(a=g.ref("/".concat(e.file.name)).put(e.file)).on("state_changed",(function(e){}),(function(e){console.log(e),n({type:O.j,errmess:e})}),(function(){n({type:O.l})})),t.next=5,a.then((function(t){return g.ref(e.content).child(e.file.name).getDownloadURL()}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({file:a})).then((function(e){n(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:O.b}),t.next=3,C.a.post("".concat(S),e).then((function(e){return n({type:O.c,data:e.data.response}),e.data.response})).catch((function(e){console.log(S,e),n({type:O.a,errmess:"Error in connection with Server"})}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({url:e})).then((function(t){n(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(h.a)({type:O.d},e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({image:e,pred:t})),b(!1)}))}))},className:"float-right"})})]})})]})},B=n(159),P=n(223);var T=function(e){var t=e.inputs,n=Object(u.c)();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h3",{children:"Select some of the common ingredients from below"}),Object(I.jsx)(P.a,{placeholder:"Ingredients",fluid:!0,multiple:!0,search:!0,selection:!0,clearable:!0,options:[{key:0,text:"Pepper",value:"Pepper"},{key:1,text:"Turmeric",value:"Turmeric"},{key:2,text:"Cilantro",value:"Cilantro"},{key:3,text:"flour",value:"flour"},{key:4,text:"Salt",value:"Salt"},{key:5,text:"Olive oil",value:"Olive"},{key:6,text:"Cumin",value:"Cumin"},{key:7,text:"Cream",value:"Cream"},{key:8,text:"Cinnamon",value:"Cinnamon"},{key:9,text:"Thyme",value:"Thyme"},{key:10,text:"Cloves",value:"Cloves"},{key:11,text:"Ketchup",value:"Ketchup"},{key:12,text:"Vanilla",value:"Vanilla"},{key:13,text:"Baking Powder",value:"Baking"},{key:14,text:"Wine",value:"Wine"},{key:15,text:"Sugar",value:"Sugar"},{key:16,text:"Peanut Butter",value:"Peanut Butter"},{key:17,text:"cornstarch",value:"cornstarch"},{key:18,text:"Soda",value:"Soda"},{key:19,text:"Mustard",value:"Mustard"},{key:20,text:"Soy(Sauce)",value:"soy"}],value:t,onChange:function(e,t){var a,r=t.value;n((a={items:r},function(){var e=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Object(h.a)({type:O.f},a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}})]})},N=n(226);var z=function(e){var t=e.inputs,n=Object(s.useState)(!1),r=Object(a.a)(n,2),c=r[0],i=r[1],l=Object(s.useState)([]),j=Object(a.a)(l,2),f=j[0],h=j[1],b="";t.ingredients.map((function(e){return b+=e+", "})),t.images.map((function(e){return b+=e.data+", "})),b=b.slice(0,-2);var m=Object(u.c)();return Object(I.jsxs)("div",{children:["Final Query: ",Object(I.jsx)(d.a,{children:b}),Object(I.jsx)(p.a,{disabled:c,floated:"right",onClick:function(){i(!0),m(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:O.h,data:e}),t.next=3,C.a.post("".concat(S,"results"),e).then((function(e){var t;return n({type:O.i,data:e.data}),null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data})).catch((function(e){console.log(e),n({type:O.g,errmess:"Error in connection with Server"})}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({query:b})).then((function(e){h(e),i(!1)}))},children:c?Object(I.jsx)(o.a,{}):"Get Recipes"}),Object(I.jsx)("hr",{}),Object(I.jsx)(N.a,{defaultActiveIndex:1,panels:f})]})};t.default=Object(u.b)((function(e){return{input:e.input}}),null)((function(e){var t=Object(s.useState)(0),n=Object(a.a)(t,2),u=n[0],o=n[1],l=[Object(I.jsx)(R,{inputs:e.input.images}),Object(I.jsx)(T,{inputs:e.input.ingredients}),Object(I.jsx)(z,{inputs:e.input})];return Object(I.jsxs)(r.a,{children:[Object(I.jsx)(c.a,{children:Object(I.jsxs)(i.a,{className:"text-center shadow p-3 bg-white mt-3 rounded",children:[Object(I.jsx)("h1",{className:"text-grad",children:"Information Retrieval Project"}),Object(I.jsx)("h2",{children:"Recipe Retrieval System"})]})}),Object(I.jsx)(c.a,{className:" shadow p-3 mt-3 bg-white rounded",children:Object(I.jsxs)(i.a,{children:[u>0&&Object(I.jsxs)(p.a,{floated:"left",onClick:function(){return o(u-1)},children:[Object(I.jsx)(B.a,{name:"arrow alternate circle left"})," Back"]}),u<l.length-1&&Object(I.jsxs)(p.a,{floated:"right",onClick:function(){return o(u+1)},children:["Next ",Object(I.jsx)(B.a,{name:"arrow alternate circle right"})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),l[u]]})})]})}))}}]);
//# sourceMappingURL=4.0d24f442.chunk.js.map