(this.webpackJsonpirproject=this.webpackJsonpirproject||[]).push([[4],{232:function(e,t,n){"use strict";n.r(t);var a=n(105),r=n(226),c=n(227),i=n(228),u=n(25),s=n(0),o=n(47),l=n(233),j=n(211),d=n(235),p=n(157),f=n(225),b=n(9),h=n(179),x=n.n(h),v=n(181),O=n(13),m=n(182);n(212);n(184),n(186),n(213);m.a.initializeApp({apiKey:"AIzaSyAAYmzTCsgF4r9wXv0Tv0GwT3j0mqsM_eQ",authDomain:"ir-project-d1527.firebaseapp.com",projectId:"ir-project-d1527",storageBucket:"ir-project-d1527.appspot.com",messagingSenderId:"437213427392",appId:"1:437213427392:web:036fad3d28f61d4a481f25"});var y=m.a.storage(),g=n(188),k=n.n(g),w=n(4);var C=function(e){var t=e.inputs,n=Object(u.c)(),r=Object(s.useState)(!1),c=Object(a.a)(r,2),i=c[0],h=c[1],m=function(e){var t;n((t={index:e},function(){var e=Object(v.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(Object(b.a)({type:O.e},t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return Object(w.jsxs)(l.a,{children:[Object(w.jsx)(l.a.Header,{children:Object(w.jsxs)(l.a.Row,{children:[Object(w.jsx)(l.a.HeaderCell,{children:"Image"}),Object(w.jsx)(l.a.HeaderCell,{children:"Prediction"})]})}),Object(w.jsx)(l.a.Body,{children:null===t||void 0===t?void 0:t.images.map((function(e,t){return Object(w.jsxs)(l.a.Row,{children:[Object(w.jsxs)(l.a.Cell,{children:[Object(w.jsx)(j.a,{src:e.img,size:"small"}),Object(w.jsx)(d.a,{icon:"trash",onClick:function(){return m(t)}})]}),Object(w.jsx)(l.a.Cell,{children:Object(w.jsxs)(p.a,{children:[" ",e.data]})})]},t)}))}),Object(w.jsx)(l.a.Footer,{children:Object(w.jsxs)(l.a.Row,{children:[Object(w.jsx)(l.a.HeaderCell,{}),Object(w.jsx)(l.a.HeaderCell,{colSpan:"3",children:i?Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("p",{className:"text-muted",children:[Object(w.jsx)(o.a,{}),"Uploading and analyzing the image"]})}):Object(w.jsx)(f.a,{type:"file",accept:"Image/*",onChange:function(e){var a;h(!0);var r=null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.files[0];r&&n(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:O.k}),(a=y.ref("/".concat(e.file.name)).put(e.file)).on("state_changed",(function(e){}),(function(e){console.log(e),n({type:O.j,errmess:e})}),(function(){n({type:O.l})})),t.next=5,a.then((function(t){return y.ref(e.content).child(e.file.name).getDownloadURL()}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({file:r})).then((function(e){n(function(e){var t=e.apiUrl,n=e.data;return function(){var e=Object(v.a)(x.a.mark((function e(a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:O.b}),e.next=3,k.a.post("".concat(t),n).then((function(e){return a({type:O.c,data:e.data.response}),e.data.response})).catch((function(e){console.log(t,e),a({type:O.a,errmess:"Error in connection with Server"})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({apiUrl:t.url,data:{url:e}})).then((function(t){n(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(b.a)({type:O.d},e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({image:e,pred:t})),h(!1)}))}))},className:"float-right"})})]})})]})},S=n(162),I=n(230);var R=function(e){var t=e.inputs,n=Object(u.c)();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h3",{children:"Select some of the common ingredients from below"}),Object(w.jsx)(I.a,{placeholder:"Ingredients",fluid:!0,multiple:!0,search:!0,selection:!0,clearable:!0,options:[{key:0,text:"Pepper",value:"Pepper"},{key:1,text:"Turmeric",value:"Turmeric"},{key:2,text:"Cilantro",value:"Cilantro"},{key:3,text:"flour",value:"flour"},{key:4,text:"Salt",value:"Salt"},{key:5,text:"Olive oil",value:"Olive"},{key:6,text:"Cumin",value:"Cumin"},{key:7,text:"Cream",value:"Cream"},{key:8,text:"Cinnamon",value:"Cinnamon"},{key:9,text:"Thyme",value:"Thyme"},{key:10,text:"Cloves",value:"Cloves"},{key:11,text:"Ketchup",value:"Ketchup"},{key:12,text:"Vanilla",value:"Vanilla"},{key:13,text:"Baking Powder",value:"Baking"},{key:14,text:"Wine",value:"Wine"},{key:15,text:"Sugar",value:"Sugar"},{key:16,text:"Peanut Butter",value:"Peanut Butter"},{key:17,text:"cornstarch",value:"cornstarch"},{key:18,text:"Soda",value:"Soda"},{key:19,text:"Mustard",value:"Mustard"},{key:20,text:"Soy(Sauce)",value:"soy"}],value:t,onChange:function(e,t){var a,r=t.value;n((a={items:r},function(){var e=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Object(b.a)({type:O.f},a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}})]})},P=n(234);var A=function(e){var t=e.inputs,n=Object(s.useState)(!1),r=Object(a.a)(n,2),c=r[0],i=r[1],l=Object(s.useState)([]),j=Object(a.a)(l,2),f=j[0],b=j[1],h="";t.ingredients.map((function(e){return h+=e+", "})),t.images.map((function(e){return h+=e.data+", "})),h=h.slice(0,-2);var m=Object(u.c)();return Object(w.jsxs)("div",{children:["Final Query: ",Object(w.jsx)(p.a,{children:h}),Object(w.jsx)(d.a,{disabled:c,floated:"right",onClick:function(){i(!0),m(function(e){var t=e.apiUrl,n=e.data;return function(){var e=Object(v.a)(x.a.mark((function e(a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:O.h,data:n}),e.next=3,k.a.post("".concat(t,"results"),n).then((function(e){var t;return a({type:O.i,data:e.data}),null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data})).catch((function(e){console.log(e),a({type:O.g,errmess:"Error in connection with Server"})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({apiUrl:t.url,data:{query:h}})).then((function(e){b(e),i(!1)}))},children:c?Object(w.jsx)(o.a,{}):"Get Recipes"}),Object(w.jsx)("hr",{}),Object(w.jsx)(P.a,{defaultActiveIndex:1,panels:f})]})},U=n(231);var B=function(){var e=Object(u.c)();return Object(w.jsxs)(U.a,{children:[Object(w.jsx)("label",{children:"Add API URL"}),Object(w.jsx)(f.a,{fluid:!0,placeholder:"API URL",onChange:function(t){var n;e((n={url:t.target.value},function(){var e=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Object(b.a)({type:O.m},n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}})]})};t.default=Object(u.b)((function(e){return{input:e.input}}),null)((function(e){var t=Object(s.useState)(0),n=Object(a.a)(t,2),u=n[0],o=n[1],l=[Object(w.jsx)(B,{}),Object(w.jsx)(C,{inputs:e.input}),Object(w.jsx)(R,{inputs:e.input.ingredients}),Object(w.jsx)(A,{inputs:e.input})];return Object(w.jsxs)(r.a,{children:[Object(w.jsx)(c.a,{children:Object(w.jsxs)(i.a,{className:"text-center shadow p-3 bg-white mt-3 rounded",children:[Object(w.jsx)("h1",{className:"text-grad",children:"Information Retrieval Project"}),Object(w.jsx)("h2",{children:"Recipe Retrieval System"})]})}),Object(w.jsx)(c.a,{className:" shadow p-3 mt-3 bg-white rounded",children:Object(w.jsxs)(i.a,{children:[u>0&&Object(w.jsxs)(d.a,{floated:"left",onClick:function(){return o(u-1)},children:[Object(w.jsx)(S.a,{name:"arrow alternate circle left"})," Back"]}),u<l.length-1&&Object(w.jsxs)(d.a,{floated:"right",onClick:function(){return o(u+1)},children:["Next ",Object(w.jsx)(S.a,{name:"arrow alternate circle right"})]}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),l[u]]})})]})}))}}]);
//# sourceMappingURL=4.0d648acb.chunk.js.map