(this.webpackJsonpirproject=this.webpackJsonpirproject||[]).push([[4],{224:function(e,t,n){"use strict";n.r(t);var r=n(152),a=n(219),c=n(220),i=n(221),s=n(26),u=n(0),o=n(47),l=n(225),j=n(206),p=n(226),d=n(155),f=n(218),h=n(10),x=n(174),b=n.n(x),v=n(176),O=n(17),m=n(177);n(207);n(179),n(181),n(208);m.a.initializeApp({apiKey:"AIzaSyAAYmzTCsgF4r9wXv0Tv0GwT3j0mqsM_eQ",authDomain:"ir-project-d1527.firebaseapp.com",projectId:"ir-project-d1527",storageBucket:"ir-project-d1527.appspot.com",messagingSenderId:"437213427392",appId:"1:437213427392:web:036fad3d28f61d4a481f25"});var y=m.a.storage(),g=n(183),k=n.n(g),w="http://127.0.0.1:5000/",C=n(4);var S=function(e){var t=e.inputs,n=Object(s.c)(),a=Object(u.useState)(!1),c=Object(r.a)(a,2),i=c[0],x=c[1],m=function(e){var t;n((t={index:e},function(){var e=Object(v.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(Object(h.a)({type:O.h},t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return Object(C.jsxs)(l.a,{children:[Object(C.jsx)(l.a.Header,{children:Object(C.jsxs)(l.a.Row,{children:[Object(C.jsx)(l.a.HeaderCell,{children:"Image"}),Object(C.jsx)(l.a.HeaderCell,{children:"Prediction"})]})}),Object(C.jsx)(l.a.Body,{children:t.map((function(e,t){return Object(C.jsxs)(l.a.Row,{children:[Object(C.jsxs)(l.a.Cell,{children:[Object(C.jsx)(j.a,{src:e.img,size:"small"}),Object(C.jsx)(p.a,{icon:"trash",onClick:function(){return m(t)}})]}),Object(C.jsx)(l.a.Cell,{children:Object(C.jsxs)(d.a,{children:[" ",e.data]})})]},t)}))}),Object(C.jsx)(l.a.Footer,{children:Object(C.jsxs)(l.a.Row,{children:[Object(C.jsx)(l.a.HeaderCell,{}),Object(C.jsx)(l.a.HeaderCell,{colSpan:"3",children:i?Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("p",{className:"text-muted",children:[Object(C.jsx)(o.a,{}),"Uploading and analyzing the image"]})}):Object(C.jsx)(f.a,{type:"file",accept:"Image/*",onChange:function(e){var t;x(!0);var r=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.files[0];r&&n(function(e){return function(){var t=Object(v.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:O.k}),(r=y.ref("/".concat(e.file.name)).put(e.file)).on("state_changed",(function(e){}),(function(e){console.log(e),n({type:O.j,errmess:e})}),(function(){n({type:O.l})})),t.next=5,r.then((function(t){return y.ref(e.content).child(e.file.name).getDownloadURL()}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({file:r})).then((function(e){n(function(e){return function(){var t=Object(v.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:O.e}),t.next=3,k.a.post("".concat(w),e).then((function(e){return n({type:O.f,data:e.data.response}),e.data.response})).catch((function(e){console.log(e),n({type:O.d,errmess:"Error in connection with Server"})}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({url:e})).then((function(t){n(function(e){return function(){var t=Object(v.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(h.a)({type:O.g},e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({image:e,pred:t})),x(!1)}))}))},className:"float-right"})})]})})]})},I=n(159),P=n(223);var B=function(e){var t=e.inputs,n=Object(s.c)();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h3",{children:"Select some of the common ingredients from below"}),Object(C.jsx)(P.a,{placeholder:"Ingredients",fluid:!0,multiple:!0,search:!0,selection:!0,clearable:!0,options:[{key:0,text:"Pepper",value:"Pepper"},{key:1,text:"Turmeric",value:"Turmeric"},{key:2,text:"Cilantro",value:"Cilantro"},{key:3,text:"flour",value:"flour"},{key:4,text:"Salt",value:"Salt"},{key:5,text:"Olive oil",value:"Olive oil"},{key:6,text:"Cumin",value:"Cumin"},{key:7,text:"Cream",value:"Cream"},{key:8,text:"Cinnamon",value:"Cinnamon"},{key:9,text:"Thyme",value:"Thyme"},{key:10,text:"Cloves",value:"Cloves"},{key:11,text:"Ketchup",value:"Ketchup"},{key:12,text:"Vanilla",value:"Vanilla"},{key:13,text:"Baking Powder",value:"Baking Powder"},{key:14,text:"Wine",value:"Wine"},{key:15,text:"Sugar",value:"Sugar"},{key:16,text:"Peanut Butter",value:"Peanut Butter"},{key:17,text:"cornstarch",value:"cornstarch"},{key:18,text:"Soda",value:"Soda"},{key:19,text:"Mustard",value:"Mustard"},{key:20,text:"Soy(Sauce)",value:"soy"}],value:t,onChange:function(e,t){var r,a=t.value;n((r={items:a},function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Object(h.a)({type:O.i},r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}})]})};var R=function(e){var t=e.inputs,n="";return t.ingredients.map((function(e){return n+=e+", "})),t.images.map((function(e){return n+=e.data+", "})),n=n.slice(0,-2),Object(C.jsxs)("div",{children:["Final Query: ",Object(C.jsx)(d.a,{children:n})]})};t.default=Object(s.b)((function(e){return{input:e.input}}),null)((function(e){var t=Object(u.useState)(0),n=Object(r.a)(t,2),s=n[0],o=n[1],l=[Object(C.jsx)(S,{inputs:e.input.images}),Object(C.jsx)(B,{inputs:e.input.ingredients}),Object(C.jsx)(R,{inputs:e.input})];return Object(C.jsxs)(a.a,{children:[Object(C.jsx)(c.a,{children:Object(C.jsxs)(i.a,{className:"text-center shadow p-3 bg-white mt-3 rounded",children:[Object(C.jsx)("h1",{className:"text-grad",children:"Information Retrieval Project"}),Object(C.jsx)("h2",{children:"Recipe Retrieval System"})]})}),Object(C.jsx)(c.a,{className:" shadow p-3 mt-3 bg-white rounded",children:Object(C.jsxs)(i.a,{children:[s>0&&Object(C.jsxs)(p.a,{floated:"left",onClick:function(){return o(s-1)},children:[Object(C.jsx)(I.a,{name:"arrow alternate circle left"})," Back"]}),s<l.length-1&&Object(C.jsxs)(p.a,{floated:"right",onClick:function(){return o(s+1)},children:["Next ",Object(C.jsx)(I.a,{name:"arrow alternate circle right"})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),l[s]]})})]})}))}}]);
//# sourceMappingURL=4.1f92ac55.chunk.js.map