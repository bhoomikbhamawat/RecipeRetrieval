{"version":3,"sources":["Config/fire.js","Store/Url.js","Components/ImagePredict.jsx","Store/Actioncreator.js","Components/Comparators.jsx","Components/Home.jsx"],"names":["require","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","storage","apiUrl","ImagePredict","props","res","dispatch","useDispatch","useState","img","setImg","useEffect","data","url","a","type","ActionTypes","axios","post","then","response","catch","error","console","log","errmess","Row","className","Col","Form","Field","Input","accept","onChange","e","file","target","files","uploadTask","ref","name","put","on","snapShot","err","content","child","getDownloadURL","uploadContent","value","Image","src","alt","xs","Comparators","sentence","setSentence","operands","setOperands","activeIndex","setactiveIndex","Button","onClick","preventDefault","getResult","Label","length","comparison","Accordion","Title","active","index","Icon","Content","Table","Header","HeaderCell","Body","map","Cell","connect","state","model","panes","menuItem","render","Tab","Pane","attached","result","Container","menu","pointing"],"mappings":"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","file":"static/js/4.47790aab.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nrequire(\"firebase/auth\");\nrequire(\"firebase/database\");\nrequire(\"firebase/storage\");\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyAAYmzTCsgF4r9wXv0Tv0GwT3j0mqsM_eQ\",\n  authDomain: \"ir-project-d1527.firebaseapp.com\",\n  projectId: \"ir-project-d1527\",\n  storageBucket: \"ir-project-d1527.appspot.com\",\n  messagingSenderId: \"437213427392\",\n  appId: \"1:437213427392:web:036fad3d28f61d4a481f25\",\n};\n\nconst fire = firebase.initializeApp(firebaseConfig);\n\nexport const storage = firebase.storage();\nexport default fire;\n","export const apiUrl='http://127.0.0.1:5000/'","import { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Col, Row } from \"reactstrap\";\nimport { Form, Image, Input } from \"semantic-ui-react\";\nimport { getData, uploadContent } from \"../Store/Actioncreator\";\n\nfunction ImagePredict(props) {\n  const { res } = props;\n  const dispatch = useDispatch();\n  const [img, setImg] = useState(\"\");\n  const handleUpload = (e) => {\n    const file = e?.target?.files[0];\n    if (file) {\n      const data = {\n        file: file,\n      };\n      dispatch(uploadContent(data)).then((res) => setImg(res));\n    }\n  };\n  useEffect(() => {\n    if (img) {\n      dispatch(getData({ url: img }));\n    }\n  }, [img, dispatch]);\n  return (\n    <Row className=\" shadow p-3 bg-white rounded\">\n      <Col>\n        <Form>\n          <Form.Field>\n            <label>Upload Image</label>\n            <Input type=\"file\" accept=\"Image/*\" onChange={handleUpload} />\n          </Form.Field>\n          <Form.Field>\n            <label>Image URL</label>\n            <Input value={img} />\n          </Form.Field>\n        </Form>\n      </Col>\n      {img && (\n        <Col>\n          <Image src={img} alt=\"content\" />\n        </Col>\n      )}\n      <Col xs={12}>\n        <h3>Response: </h3>\n        <p className=\"text-muted\">{res?.data}</p>\n      </Col>\n    </Row>\n  );\n}\n\nexport default ImagePredict;\n","import * as ActionTypes from \"./ActionTypes\";\nimport { storage } from \"../Config/fire\";\nimport axios from \"axios\";\nimport { apiUrl } from \"./Url\";\n\nexport const uploadContent = (data) => {\n  return async (dispatch) => {\n    dispatch({ type: ActionTypes.UPLOAD_REQUEST });\n    const uploadTask = storage.ref(`/${data.file.name}`).put(data.file);\n    uploadTask.on(\n      \"state_changed\",\n      (snapShot) => {},\n      (err) => {\n        console.log(err);\n        dispatch({ type: ActionTypes.UPLOAD_FAILED, errmess: err });\n      },\n      () => {\n        dispatch({ type: ActionTypes.UPLOAD_SUCCESS });\n      }\n    );\n    return await uploadTask.then((res) =>\n      storage.ref(data.content).child(data.file.name).getDownloadURL()\n    );\n  };\n};\n\nexport const getData = (data) => {\n  return async (dispatch) => {\n    dispatch({ type: ActionTypes.DATA_REQUEST });\n    return await axios\n      .post(`${apiUrl}`, data)\n      .then((response) => {\n        dispatch({\n          type: ActionTypes.DATA_SUCCESS,\n          data: response.data.response,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n        dispatch({\n          type: ActionTypes.DATA_FAILED,\n          errmess: \"Error in connection with Server\",\n        });\n      });\n  };\n};\n\nexport const getResult = (data) => {\n  return async (dispatch) => {\n    dispatch({ type: ActionTypes.COMPARATOR_REQUEST });\n    return await axios\n      .post(`${apiUrl}comparator`, data)\n      .then((response) => {\n        dispatch({\n          type: ActionTypes.COMPARATOR_SUCCESS,\n          data: response.data,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n        dispatch({\n          type: ActionTypes.COMPARATOR_FAILED,\n          errmess: \"Error in connection with Server\",\n        });\n      });\n  };\n};","import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Col, Row } from \"reactstrap\";\nimport {\n  Accordion,\n  Button,\n  Form,\n  Icon,\n  Input,\n  Label,\n  Table,\n} from \"semantic-ui-react\";\nimport { getResult } from \"../Store/Actioncreator\";\n\nfunction Comparators(props) {\n  const { res } = props;\n  const [sentence, setSentence] = useState(\"\");\n  const [operands, setOperands] = useState(\"\");\n  const dispatch = useDispatch();\n  const [activeIndex, setactiveIndex] = useState(1);\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const data = {\n      sentence,\n      operands,\n    };\n    dispatch(getResult(data));\n  };\n  const handleClick = () => {\n    setactiveIndex(1 - activeIndex);\n  };\n  return (\n    <Row className=\" shadow p-3 bg-white  rounded\">\n      <Col>\n        <Form>\n          <Form.Field>\n            <label>Sentence</label>\n            <Input\n              value={sentence}\n              onChange={(e) => setSentence(e.target.value)}\n            />\n          </Form.Field>\n          <Form.Field>\n            <label>Operands</label>\n            <Input\n              value={operands}\n              onChange={(e) => setOperands(e.target.value)}\n            />\n          </Form.Field>\n          <Button onClick={handleSubmit}>Get Result</Button>\n        </Form>\n      </Col>\n      {res && (\n        <Col xs={12} className=\"mt-4\">\n          <hr />\n          <h2>Result</h2>\n          <Row>\n            <Col>\n              <Label>\n                <p className=\"d-inline text-info\">{res?.response?.length}</p>{\" \"}\n                files match your Query\n              </Label>\n              <br />\n              <br />\n              <Label>\n                It took <p className=\"d-inline text-info\">{res?.comparison}</p>{\" \"}\n                Comparisons\n              </Label>\n            </Col>\n            <Col>\n              <Accordion>\n                <Accordion.Title\n                  active={activeIndex === 0}\n                  index={0}\n                  onClick={handleClick}\n                >\n                  <Icon name=\"dropdown\" />\n                  List of Files\n                </Accordion.Title>\n                <Accordion.Content active={activeIndex === 0}>\n                  <Table>\n                    <Table.Header>\n                      <Table.Row>\n                        <Table.HeaderCell>File ID</Table.HeaderCell>\n                        <Table.HeaderCell>File Location</Table.HeaderCell>\n                      </Table.Row>\n                    </Table.Header>\n                    <Table.Body>\n                      {res.response.map((file) => (\n                        <Table.Row>\n                          <Table.Cell>{file[0]}</Table.Cell>\n                          <Table.Cell>{file[1]}</Table.Cell>\n                        </Table.Row>\n                      ))}\n                    </Table.Body>\n                  </Table>\n                </Accordion.Content>\n              </Accordion>\n            </Col>\n          </Row>\n        </Col>\n      )}\n    </Row>\n  );\n}\n\nexport default Comparators;\n","import { Col, Container, Row } from \"reactstrap\";\nimport { Tab } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport ImagePredict from \"./ImagePredict\";\nimport Comparators from \"./Comparators\";\n\nfunction Home(props) {\n  const res = props.model;\n  const panes = [\n    {\n      menuItem: \"Image Prediction\",\n      render: () => (\n        <Tab.Pane attached={false}>\n          <ImagePredict res={res} />\n        </Tab.Pane>\n      ),\n    },\n    {\n      menuItem: \"Comparators\",\n      render: () => (\n        <Tab.Pane attached={false}>\n          <Comparators res={res.result} />\n        </Tab.Pane>\n      ),\n    },\n  ];\n  return (\n    <Container>\n      <Row>\n        <Col className=\"text-center shadow p-3 bg-white mt-3 rounded\">\n          <h1>Information Retrieval Project</h1>\n          <h3>Recipe Retrieval System</h3>\n        </Col>\n      </Row>\n\n      <Tab menu={{ pointing: true }} panes={panes} className=\"mt-5\" />\n    </Container>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  model: state.model,\n});\n\nexport default connect(mapStateToProps, null)(Home);\n"],"sourceRoot":""}