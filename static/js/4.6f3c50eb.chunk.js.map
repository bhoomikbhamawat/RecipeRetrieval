{"version":3,"sources":["Config/fire.js","Components/Home.jsx","Store/Actioncreator.js","Store/Url.js"],"names":["require","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","storage","connect","state","model","props","res","useState","img","setImg","dispatch","useDispatch","useEffect","data","url","a","type","ActionTypes","axios","post","then","response","catch","error","console","log","errmess","Container","Row","Col","className","Form","Field","Input","accept","onChange","e","file","target","files","uploadTask","ref","name","put","on","snapShot","err","content","child","getDownloadURL","uploadContent","value","Image","src","alt","xs"],"mappings":"6OAEAA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KAWKC,IAASC,cATD,CACnBC,OAAQ,0CACRC,WAAY,mCACZC,UAAW,mBACXC,cAAe,+BACfC,kBAAmB,eACnBC,MAAO,8CANT,IAWaC,EAAUR,IAASQ,U,gCC+CjBC,uBAJS,SAACC,GAAD,MAAY,CAClCC,MAAOD,EAAMC,SAGyB,KAAzBF,EA1Df,SAAcG,GACZ,IAAMC,EAAMD,EAAMD,MADC,EAEGG,mBAAS,IAFZ,mBAEZC,EAFY,KAEPC,EAFO,KAGbC,EAAWC,cAgBjB,OALAC,qBAAU,WCMW,IAACC,EDLhBL,GACFE,GCIkBG,EDJD,CAAEC,IAAKN,GCK5B,uCAAO,WAAOE,GAAP,SAAAK,EAAA,6DACLL,EAAS,CAAEM,KAAMC,MADZ,SAEQC,IACVC,KADU,UC7BG,0BD8BKN,GAClBO,MAAK,SAACC,GACLX,EAAS,CACPM,KAAMC,IACNJ,KAAMQ,EAASR,KAAKQ,cAGvBC,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZb,EAAS,CACPM,KAAMC,IACNS,QAAS,uCAdV,mFAAP,0DDHG,CAAClB,EAAKE,IAEP,eAACiB,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAKC,UAAU,+CAAf,UACE,+DACA,8DAGJ,eAACF,EAAA,EAAD,CAAKE,UAAU,oCAAf,UACE,cAACD,EAAA,EAAD,UACE,eAACE,EAAA,EAAD,WACE,eAACA,EAAA,EAAKC,MAAN,WACE,iDACA,cAACC,EAAA,EAAD,CAAOjB,KAAK,OAAOkB,OAAO,UAAUC,SA5B3B,SAACC,GAAO,IAAD,EACpBC,EAAI,OAAGD,QAAH,IAAGA,GAAH,UAAGA,EAAGE,cAAN,aAAG,EAAWC,MAAM,GAC1BF,GAIF3B,ECXuB,SAACG,GAC5B,8CAAO,WAAOH,GAAP,eAAAK,EAAA,6DACLL,EAAS,CAAEM,KAAMC,OACXuB,EAAavC,EAAQwC,IAAR,WAAgB5B,EAAKwB,KAAKK,OAAQC,IAAI9B,EAAKwB,OACnDO,GACT,iBACA,SAACC,OACD,SAACC,GACCtB,QAAQC,IAAIqB,GACZpC,EAAS,CAAEM,KAAMC,IAA2BS,QAASoB,OAEvD,WACEpC,EAAS,CAAEM,KAAMC,SAXhB,SAcQuB,EAAWpB,MAAK,SAACd,GAAD,OAC3BL,EAAQwC,IAAI5B,EAAKkC,SAASC,MAAMnC,EAAKwB,KAAKK,MAAMO,oBAf7C,mFAAP,sDDUaC,CAHI,CACXb,KAAMA,KAEsBjB,MAAK,SAACd,GAAD,OAASG,EAAOH,YAwB7C,eAACyB,EAAA,EAAKC,MAAN,WACE,8CACA,cAACC,EAAA,EAAD,CAAOkB,MAAO3C,YAInBA,GACC,cAACqB,EAAA,EAAD,UACE,cAACuB,EAAA,EAAD,CAAOC,IAAK7C,EAAK8C,IAAI,cAGzB,eAACzB,EAAA,EAAD,CAAK0B,GAAI,GAAT,UACE,4CACA,mBAAGzB,UAAU,aAAb,gBAA2BxB,QAA3B,IAA2BA,OAA3B,EAA2BA,EAAKO","file":"static/js/4.6f3c50eb.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nrequire(\"firebase/auth\");\nrequire(\"firebase/database\");\nrequire(\"firebase/storage\");\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyAAYmzTCsgF4r9wXv0Tv0GwT3j0mqsM_eQ\",\n  authDomain: \"ir-project-d1527.firebaseapp.com\",\n  projectId: \"ir-project-d1527\",\n  storageBucket: \"ir-project-d1527.appspot.com\",\n  messagingSenderId: \"437213427392\",\n  appId: \"1:437213427392:web:036fad3d28f61d4a481f25\",\n};\n\nconst fire = firebase.initializeApp(firebaseConfig);\n\nexport const storage = firebase.storage();\nexport default fire;\n","import { Col, Container, Row } from \"reactstrap\";\nimport { Form, Image, Input } from \"semantic-ui-react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport { getData, uploadContent } from \"../Store/Actioncreator\";\nimport { useEffect, useState } from \"react\";\n\nfunction Home(props) {\n  const res = props.model;\n  const [img, setImg] = useState(\"\");\n  const dispatch = useDispatch();\n  const handleUpload = (e) => {\n    const file = e?.target?.files[0];\n    if (file) {\n      const data = {\n        file: file,\n      };\n      dispatch(uploadContent(data)).then((res) => setImg(res));\n    }\n  };\n\n  useEffect(() => {\n    if (img) {\n      dispatch(getData({ url: img }));\n    }\n  }, [img, dispatch]);\n  return (\n    <Container>\n      <Row>\n        <Col className=\"text-center shadow p-3 bg-white mt-3 rounded\">\n          <h1>Information Retrieval Project</h1>\n          <h3>Recipe Retrieval System</h3>\n        </Col>\n      </Row>\n      <Row className=\" shadow p-3 bg-white mt-3 rounded\">\n        <Col>\n          <Form>\n            <Form.Field>\n              <label>Upload Image</label>\n              <Input type=\"file\" accept=\"Image/*\" onChange={handleUpload} />\n            </Form.Field>\n            <Form.Field>\n              <label>Image URL</label>\n              <Input value={img} />\n            </Form.Field>\n          </Form>\n        </Col>\n        {img && (\n          <Col>\n            <Image src={img} alt=\"content\" />\n          </Col>\n        )}\n        <Col xs={12}>\n          <h3>Response: </h3>\n          <p className=\"text-muted\">{res?.data}</p>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  model: state.model,\n});\n\nexport default connect(mapStateToProps, null)(Home);\n","import * as ActionTypes from \"./ActionTypes\";\nimport { storage } from \"../Config/fire\";\nimport axios from \"axios\";\nimport { apiUrl } from \"./Url\";\n\nexport const uploadContent = (data) => {\n  return async (dispatch) => {\n    dispatch({ type: ActionTypes.UPLOAD_REQUEST });\n    const uploadTask = storage.ref(`/${data.file.name}`).put(data.file);\n    uploadTask.on(\n      \"state_changed\",\n      (snapShot) => {},\n      (err) => {\n        console.log(err);\n        dispatch({ type: ActionTypes.UPLOAD_FAILED, errmess: err });\n      },\n      () => {\n        dispatch({ type: ActionTypes.UPLOAD_SUCCESS });\n      }\n    );\n    return await uploadTask.then((res) =>\n      storage.ref(data.content).child(data.file.name).getDownloadURL()\n    );\n  };\n};\n\nexport const getData = (data) => {\n  return async (dispatch) => {\n    dispatch({ type: ActionTypes.DATA_REQUEST });\n    return await axios\n      .post(`${apiUrl}`, data)\n      .then((response) => {\n        dispatch({\n          type: ActionTypes.DATA_SUCCESS,\n          data: response.data.response,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n        dispatch({\n          type: ActionTypes.DATA_FAILED,\n          errmess: \"Error in connection with Server\",\n        });\n      });\n  };\n};\n","export const apiUrl='http://127.0.0.1:5000/'"],"sourceRoot":""}